<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NDC Dashboard</title>

  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
</head>

<body>

<!-- ========== LOGIN ========== -->
<div id="loginBox">
  <h2>Login</h2>
  <input id="username" placeholder="Username">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <p style="color:#60a5fa; font-size:12px; margin-top:10px;">
    Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯: admin / admin
  </p>
</div>

<!-- ========== MAIN APP ========== -->
<div id="app" style="display:none;">

  <!-- Tabs -->
  <div class="tabs">
    <button onclick="openTab('dashboard')">Dashboard</button>
    <button onclick="openTab('teams')">Teams</button>
    <button onclick="openTab('total')">Total</button>
    <button onclick="openTab('statistics')">Statistics</button>
    <button onclick="openTab('map')">Map</button>
    <button onclick="openTab('settings')" id="settingsTab">Settings</button>
    <button onclick="exportPNG()">Export PNG</button>
    <button onclick="exportPDF()">Export PDF</button>
    <button onclick="logout()">Logout</button>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" class="tab-content">
    <h2>Dashboard</h2>
    <div id="statsBox" class="cards"></div>
    <div id="kpis" class="cards" style="margin-top:20px;"></div>
    <div class="progress-container" style="margin-top:20px;">
      <div>Work Progress</div>
      <div class="progress"><div class="progress-work"></div></div>
      <div>Time Elapsed</div>
      <div class="progress"><div class="progress-time"></div></div>
    </div>
  </div>

  <!-- Teams -->
  <div id="teams" class="tab-content">
    <h2>Teams</h2>
    <div id="teamTable"></div>
    <canvas id="teamChart"></canvas>
  </div>

  <!-- Total -->
  <div id="total" class="tab-content">
    <h2>Total</h2>
    <div id="totalTable"></div>
    <canvas id="totalChart"></canvas>
  </div>

  <!-- Statistics -->
  <div id="statistics" class="tab-content">
    <h2>Statistics</h2>
    <div id="statisticsContent"></div>
  </div>

  <!-- Map -->
  <div id="map" class="tab-content">
    <h2>ğŸ—ºï¸ Map</h2>
    <iframe
      id="mapFrame"
      src="https://gisdatam.github.io/Map/qgis2web_2026_01_01-16_27_15_098801/index.html"
      style="width:100%; height:600px; border:none;"
      loading="lazy">
    </iframe>
  </div>

  <!-- Settings -->
  <div id="settings" class="tab-content">
    <h2>Settings</h2>

    <label>Daily Target (mÂ²)</label>
    <input id="dailyTarget" type="number">

    <label>Holidays (YYYY-MM-DD, comma separated)</label>
    <input id="holidays">

    <button onclick="saveSettings()">Save</button>
    <button onclick="resetSettings()" style="background:#dc2626; margin-left:10px;">Reset</button>
  </div>

</div>

<!-- Report container -->
<div id="report" style="display:none;"></div>

<script src="app.js"></script>
<script src="data.js"></script>
<script src="export.js"></script>
<script src="pivot.js"></script>
<script src="stats.js"></script>
<script src="charts.js"></script>

</body>
</html>